<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.1/dist/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.1/dist/leaflet.js" integrity="sha256-NDI0K41gVbWqfkkaHj15IzU7PtMoelkzyKp8TOaFQ3s=" crossorigin=""></script>

    <!-- ------------ -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" href="css/leaflet.css" />
    <link rel="stylesheet" href="css/qgis2web.css" />
    <link rel="stylesheet" href="css/fontawesome-all.min.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.1/dist/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />

    <script src="https://unpkg.com/leaflet@1.9.1/dist/leaflet.js" integrity="sha256-NDI0K41gVbWqfkkaHj15IzU7PtMoelkzyKp8TOaFQ3s=" crossorigin=""></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <style>
      html,
      body,
      section {
        position: relative;
        height: 100%;
        background-color: #ffebcd;
      }

      html {
        scroll-behavior: smooth;
      }

      #map {
        height: calc(100vh - 60px);
      }
    </style>
    <title>Toyagama Mapping</title>
  </head>

  <body onload="loader()">
    <nav class="navbar navbar-expand-lg navbar-dark bg-light">
      <!-- <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" datatarget="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button> -->
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="../Home.html">Kembali ke Halaman Utama<span class="sr-only"> </span></a>
          </li>
        </ul>
        <!-- <form class="form-inline my-2 my-lg-0">
                <button class="btn btn-outline-success my-2 my-sm-0">
                    Lokasi saya
                </button>
            </form> -->
      </div>
    </nav>

    <div id="map"></div>
    <script src="jogja.js"></script>

    <!-- ------------ -->
    <div id="map"></div>
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="data/yujiem_2.js"></script>
    <script src="data/jalan_ugm_3.js"></script>
    <script src="data/bangunan_ugm_4.js"></script>
    <script src="data/survey_water_fountain_5.js"></script>
    <script src="data/survey_water_dispenser_6.js"></script>

    <!-- ------------ -->

    <script>
      // -----------

      var map = L.map("map", {
        center: [-7.770944421600441, 110.37762627688784],
        zoomControl: true,
        maxZoom: 20,
        minZoom: 1,
      }).fitBounds([
        [-7.771271501452, 110.37672752704275],
        [-7.766945164943783, 110.38412155885145],
      ]);
      var hash = new L.Hash(map);
      map.attributionControl.setPrefix(
        '<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>'
      );
      var autolinker = new Autolinker({ truncate: { length: 30, location: "smart" } });
      var bounds_group = new L.featureGroup([]);
      function setBounds() {}
      map.createPane("pane_GoogleSatellite_0");
      map.getPane("pane_GoogleSatellite_0").style.zIndex = 400;
      var layer_GoogleSatellite_0 = L.tileLayer("https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}", {
        pane: "pane_GoogleSatellite_0",
        opacity: 1.0,
        attribution: '<a href="https://www.google.at/permissions/geoguidelines/attr-guide.html">Map data Â©2015 Google</a>',
        minZoom: 1,
        maxZoom: 15,
        minNativeZoom: 0,
        maxNativeZoom: 20,
      });
      layer_GoogleSatellite_0;
      // map.addLayer(layer_GoogleSatellite_0);
      map.createPane("pane_OpenStreetMap_1");
      map.getPane("pane_OpenStreetMap_1").style.zIndex = 401;
      var layer_OpenStreetMap_1 = L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        pane: "pane_OpenStreetMap_1",
        opacity: 1.0,
        attribution: "",
        minZoom: 1,
        maxZoom: 15,
        minNativeZoom: 0,
        maxNativeZoom: 19,
      });
      layer_OpenStreetMap_1;
      // map.addLayer(layer_OpenStreetMap_1);
      function pop_yujiem_2(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["id"] !== null ? autolinker.link(feature.properties["id"].toLocaleString()) : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_yujiem_2_0() {
        return {
          pane: "pane_yujiem_2",
          opacity: 1,
          color: "rgba(35,35,35,1.0)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 1.0,
          fill: true,
          fillOpacity: 1,
          fillColor: "rgba(255,255,255,1.0)",
          interactive: true,
        };
      }
      map.createPane("pane_yujiem_2");
      map.getPane("pane_yujiem_2").style.zIndex = 402;
      map.getPane("pane_yujiem_2").style["mix-blend-mode"] = "normal";
      var layer_yujiem_2 = new L.geoJson(json_yujiem_2, {
        attribution: "",
        interactive: true,
        dataVar: "json_yujiem_2",
        layerName: "layer_yujiem_2",
        pane: "pane_yujiem_2",
        onEachFeature: pop_yujiem_2,
        style: style_yujiem_2_0,
      });
      bounds_group.addLayer(layer_yujiem_2);
      map.addLayer(layer_yujiem_2);
      function pop_jalan_ugm_3(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["osm_id"] !== null ? autolinker.link(feature.properties["osm_id"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["parking"] !== null ? autolinker.link(feature.properties["parking"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["width"] !== null ? autolinker.link(feature.properties["width"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["building"] !== null ? autolinker.link(feature.properties["building"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["operator"] !== null ? autolinker.link(feature.properties["operator"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["bridge"] !== null ? autolinker.link(feature.properties["bridge"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["amenity"] !== null ? autolinker.link(feature.properties["amenity"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["smoothness"] !== null ? autolinker.link(feature.properties["smoothness"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["highway"] !== null ? autolinker.link(feature.properties["highway"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["public_tra"] !== null ? autolinker.link(feature.properties["public_tra"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["name"] !== null ? autolinker.link(feature.properties["name"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["railway"] !== null ? autolinker.link(feature.properties["railway"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["tunnel"] !== null ? autolinker.link(feature.properties["tunnel"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["aeroway"] !== null ? autolinker.link(feature.properties["aeroway"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["surface"] !== null ? autolinker.link(feature.properties["surface"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["barrier"] !== null ? autolinker.link(feature.properties["barrier"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["layer"] !== null ? autolinker.link(feature.properties["layer"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["capacity"] !== null ? autolinker.link(feature.properties["capacity"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["oneway"] !== null ? autolinker.link(feature.properties["oneway"].toLocaleString()) : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_jalan_ugm_3_0() {
        return {
          pane: "pane_jalan_ugm_3",
          opacity: 1,
          color: "rgba(122,124,121,1.0)",
          dashArray: "",
          lineCap: "square",
          lineJoin: "bevel",
          weight: 1.0,
          fillOpacity: 0,
          interactive: true,
        };
      }
      map.createPane("pane_jalan_ugm_3");
      map.getPane("pane_jalan_ugm_3").style.zIndex = 403;
      map.getPane("pane_jalan_ugm_3").style["mix-blend-mode"] = "normal";
      var layer_jalan_ugm_3 = new L.geoJson(json_jalan_ugm_3, {
        attribution: "",
        interactive: true,
        dataVar: "json_jalan_ugm_3",
        layerName: "layer_jalan_ugm_3",
        pane: "pane_jalan_ugm_3",
        onEachFeature: pop_jalan_ugm_3,
        style: style_jalan_ugm_3_0,
      });
      bounds_group.addLayer(layer_jalan_ugm_3);
      map.addLayer(layer_jalan_ugm_3);
      function pop_bangunan_ugm_4(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["osm_id"] !== null ? autolinker.link(feature.properties["osm_id"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["building"] !== null ? autolinker.link(feature.properties["building"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["addr_house"] !== null ? autolinker.link(feature.properties["addr_house"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["access_roo"] !== null ? autolinker.link(feature.properties["access_roo"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["addr_stree"] !== null ? autolinker.link(feature.properties["addr_stree"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["building_m"] !== null ? autolinker.link(feature.properties["building_m"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["name"] !== null ? autolinker.link(feature.properties["name"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["roof_mater"] !== null ? autolinker.link(feature.properties["roof_mater"].toLocaleString()) : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_bangunan_ugm_4_0() {
        return {
          pane: "pane_bangunan_ugm_4",
          opacity: 1,
          color: "rgba(35,35,35,1.0)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 1.0,
          fill: true,
          fillOpacity: 1,
          fillColor: "rgba(255,127,0,1.0)",
          interactive: true,
        };
      }
      map.createPane("pane_bangunan_ugm_4");
      map.getPane("pane_bangunan_ugm_4").style.zIndex = 404;
      map.getPane("pane_bangunan_ugm_4").style["mix-blend-mode"] = "normal";
      var layer_bangunan_ugm_4 = new L.geoJson(json_bangunan_ugm_4, {
        attribution: "",
        interactive: true,
        dataVar: "json_bangunan_ugm_4",
        layerName: "layer_bangunan_ugm_4",
        pane: "pane_bangunan_ugm_4",
        onEachFeature: pop_bangunan_ugm_4,
        style: style_bangunan_ugm_4_0,
      });
      bounds_group.addLayer(layer_bangunan_ugm_4);
      map.addLayer(layer_bangunan_ugm_4);
      function pop_survey_water_fountain_5(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2"><strong>nama lokasi</strong><br />' +
          (feature.properties["nama lokasi"] !== null ? autolinker.link(feature.properties["nama lokasi"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">kondisi</th>\
                        <td>' +
          (feature.properties["kondisi"] !== null ? autolinker.link(feature.properties["kondisi"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">foto</th>\
                        <td>' +
          (feature.properties["foto"] !== null
            ? '<img src="images/' +
              String(feature.properties["foto"])
                .replace(/[\\\/:]/g, "_")
                .trim() +
              '" ' +
              "class=popupImage" +
              ">"
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">keterangan</th>\
                        <td>' +
          (feature.properties["keterangan"] !== null ? autolinker.link(feature.properties["keterangan"].toLocaleString()) : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_survey_water_fountain_5_0() {
        return {
          pane: "pane_survey_water_fountain_5",
          radius: 4.0,
          opacity: 1,
          color: "rgba(35,35,35,1.0)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 1,
          fill: true,
          fillOpacity: 1,
          fillColor: "rgba(229,182,54,1.0)",
          interactive: true,
        };
      }
      map.createPane("pane_survey_water_fountain_5");
      map.getPane("pane_survey_water_fountain_5").style.zIndex = 405;
      map.getPane("pane_survey_water_fountain_5").style["mix-blend-mode"] = "normal";
      var layer_survey_water_fountain_5 = new L.geoJson(json_survey_water_fountain_5, {
        attribution: "",
        interactive: true,
        dataVar: "json_survey_water_fountain_5",
        layerName: "layer_survey_water_fountain_5",
        pane: "pane_survey_water_fountain_5",
        onEachFeature: pop_survey_water_fountain_5,
        pointToLayer: function (feature, latlng) {
          var context = {
            feature: feature,
            variables: {},
          };
          return L.circleMarker(latlng, style_survey_water_fountain_5_0(feature));
        },
      });
      bounds_group.addLayer(layer_survey_water_fountain_5);
      map.addLayer(layer_survey_water_fountain_5);
      function pop_survey_water_dispenser_6(feature, layer) {
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2"><strong>nama lokasi</strong><br />' +
          (feature.properties["nama lokasi"] !== null ? autolinker.link(feature.properties["nama lokasi"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">foto</th>\
                        <td>' +
          (feature.properties["foto"] !== null
            ? '<img src="images/' +
              String(feature.properties["foto"])
                .replace(/[\\\/:]/g, "_")
                .trim() +
              '">'
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">kondisi</th>\
                        <td>' +
          (feature.properties["kondisi"] !== null ? autolinker.link(feature.properties["kondisi"].toLocaleString()) : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">keterangan</th>\
                        <td>' +
          (feature.properties["keterangan"] !== null ? autolinker.link(feature.properties["keterangan"].toLocaleString()) : "") +
          "</td>\
                    </tr>\
                </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_survey_water_dispenser_6_0() {
        return {
          pane: "pane_survey_water_dispenser_6",
          radius: 4.0,
          opacity: 1,
          color: "rgba(35,35,35,1.0)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 1,
          fill: true,
          fillOpacity: 1,
          fillColor: "rgba(225,89,137,1.0)",
          interactive: true,
        };
      }
      map.createPane("pane_survey_water_dispenser_6");
      map.getPane("pane_survey_water_dispenser_6").style.zIndex = 406;
      map.getPane("pane_survey_water_dispenser_6").style["mix-blend-mode"] = "normal";
      var layer_survey_water_dispenser_6 = new L.geoJson(json_survey_water_dispenser_6, {
        attribution: "",
        interactive: true,
        dataVar: "json_survey_water_dispenser_6",
        layerName: "layer_survey_water_dispenser_6",
        pane: "pane_survey_water_dispenser_6",
        onEachFeature: pop_survey_water_dispenser_6,
        pointToLayer: function (feature, latlng) {
          var context = {
            feature: feature,
            variables: {},
          };
          return L.circleMarker(latlng, style_survey_water_dispenser_6_0(feature));
        },
      });
      bounds_group.addLayer(layer_survey_water_dispenser_6);
      map.addLayer(layer_survey_water_dispenser_6);
      setBounds();

      // -----------

      // -----------

      var google = L.tileLayer("https://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}", {
        attribution: "Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA,USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",
      }).addTo(map);

      var osm = L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>&copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
        subdomains: "abcd",
        maxZoom: 19,
      });

      var baseMaps = {
        "Google Satellite Map": google,
        "Open Street Map": osm,
      };

      var waterdisp = L.layerGroup([layer_survey_water_dispenser_6]);
      var waterfo = L.layerGroup([layer_survey_water_fountain_5]);
      var bangunan = L.layerGroup([layer_bangunan_ugm_4]);
      var jalan = L.layerGroup([layer_jalan_ugm_3]);
      var ugm = L.layerGroup([layer_yujiem_2]);

      var overlayMaps = {
        "Water Dispenser": waterdisp,
        "Water Fountain": waterfo,
        Jalan: jalan,
        Bangunan: bangunan,
        "Kawasan UGM": ugm,
      };

      L.control.layers(baseMaps, overlayMaps).addTo(map);

      // -----------
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>
